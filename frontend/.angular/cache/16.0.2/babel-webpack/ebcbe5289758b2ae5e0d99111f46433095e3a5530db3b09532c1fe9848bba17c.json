{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/services/user.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../../partials/title/title.component\";\nimport * as i5 from \"../../partials/text-input/text-input.component\";\nimport * as i6 from \"../../partials/default-button/default-button.component\";\nconst _c0 = function (a0) {\n  return {\n    returnUrl: a0\n  };\n};\nclass LoginPageComponent {\n  constructor(formBuilder, userService, activatedRoute, router) {\n    this.formBuilder = formBuilder;\n    this.userService = userService;\n    this.activatedRoute = activatedRoute;\n    this.router = router;\n    this.isSubmitted = false;\n    this.returnUrl = '';\n  }\n  ngOnInit() {\n    this.loginForm = this.formBuilder.group({\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', Validators.required]\n    });\n    this.returnUrl = this.activatedRoute.snapshot.queryParams.returnUrl;\n  }\n  get fc() {\n    return this.loginForm.controls;\n  }\n  submit() {\n    this.isSubmitted = true;\n    if (this.loginForm.invalid) return;\n    this.userService.login({\n      email: this.fc.email.value,\n      password: this.fc.password.value\n    }).subscribe(() => {\n      this.router.navigateByUrl(this.returnUrl);\n    });\n  }\n}\nLoginPageComponent.ɵfac = function LoginPageComponent_Factory(t) {\n  return new (t || LoginPageComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.UserService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Router));\n};\nLoginPageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginPageComponent,\n  selectors: [[\"app-login-page\"]],\n  decls: 15,\n  vars: 8,\n  consts: [[1, \"background\"], [1, \"container\"], [1, \"details\"], [1, \"form-login\"], [\"title\", \"Login\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-details\"], [\"type\", \"email\", \"label\", \"Email\", 3, \"control\", \"showErrorsWhen\"], [\"type\", \"password\", \"label\", \"Password\", 3, \"control\", \"showErrorsWhen\"], [1, \"form-footer\"], [\"text\", \"Login\"], [1, \"register\"], [\"routerLink\", \"/register\", 3, \"queryParams\"]],\n  template: function LoginPageComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n      i0.ɵɵelement(4, \"app-title\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"form\", 5);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginPageComponent_Template_form_ngSubmit_5_listener() {\n        return ctx.submit();\n      });\n      i0.ɵɵelementStart(6, \"div\", 6);\n      i0.ɵɵelement(7, \"text-input\", 7)(8, \"text-input\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 9);\n      i0.ɵɵelement(10, \"default-button\", 10);\n      i0.ɵɵelementStart(11, \"div\", 11);\n      i0.ɵɵtext(12, \" New user? \\u00A0 \");\n      i0.ɵɵelementStart(13, \"a\", 12);\n      i0.ɵɵtext(14, \" Register here \");\n      i0.ɵɵelementEnd()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"control\", ctx.fc.email)(\"showErrorsWhen\", ctx.isSubmitted);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"control\", ctx.fc.password)(\"showErrorsWhen\", ctx.isSubmitted);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"queryParams\", i0.ɵɵpureFunction1(6, _c0, ctx.returnUrl));\n    }\n  },\n  dependencies: [i3.RouterLink, i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i4.TitleComponent, i5.TextInputComponent, i6.DefaultButtonComponent],\n  styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%];\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n \\tvar __webpack_modules__ = ({\\n\\n 992:\\n\\n (() => {\\n\\nthrow new Error(\\\"Module build failed (from ./node_modules/postcss-loader/dist/cjs.js):\\\\nSyntaxError\\\\n\\\\n(13:3) G:\\\\\\\\APP\\\\\\\\frontend\\\\\\\\src\\\\\\\\app\\\\\\\\components\\\\\\\\pages\\\\\\\\login-page\\\\\\\\login-page.component.css Unknown word\\\\n\\\\n \\\\u001b[90m 11 | \\\\u001b[39m  flex-direction\\\\u001b[33m:\\\\u001b[39m column\\\\u001b[33m;\\\\u001b[39m\\\\n \\\\u001b[90m 12 | \\\\u001b[39m  fl\\\\n\\\\u001b[1m\\\\u001b[31m>\\\\u001b[39m\\\\u001b[22m\\\\u001b[90m 13 | \\\\u001b[39m  min-height\\\\u001b[33m:\\\\u001b[39m 30rem\\\\u001b[33m;\\\\u001b[39m\\\\n \\\\u001b[90m    | \\\\u001b[39m  \\\\u001b[1m\\\\u001b[31m^\\\\u001b[39m\\\\u001b[22m\\\\n \\\\u001b[90m 14 | \\\\u001b[39m  width\\\\u001b[33m:\\\\u001b[39m 28rem\\\\u001b[33m;\\\\u001b[39m\\\\n \\\\u001b[90m 15 | \\\\u001b[39m  background-color\\\\u001b[33m:\\\\u001b[39m antiquewhite\\\\u001b[33m;\\\\u001b[39m\\\\n\\\");\\n\\n })\\n\\n \\t});\\n\\n \\t\\n \\t// startup\\n \\t// Load entry module and return exports\\n \\t// This entry module doesn't tell about it's top-level declarations so it can't be inlined\\n \\tvar __webpack_exports__ = {};\\n \\t__webpack_modules__[992]();\\n \\tresource = __webpack_exports__;\\n \\t\\n })()\\n;\\n/*# sourceMappingURL=login-page.component.css.map*/\"]\n});\nexport { LoginPageComponent };","map":{"version":3,"names":["Validators","LoginPageComponent","constructor","formBuilder","userService","activatedRoute","router","isSubmitted","returnUrl","ngOnInit","loginForm","group","email","required","password","snapshot","queryParams","fc","controls","submit","invalid","login","value","subscribe","navigateByUrl","i0","ɵɵdirectiveInject","i1","FormBuilder","i2","UserService","i3","ActivatedRoute","Router","selectors","decls","vars","consts","template","LoginPageComponent_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵlistener","LoginPageComponent_Template_form_ngSubmit_5_listener","ɵɵtext","ɵɵadvance","ɵɵproperty","ɵɵpureFunction1","_c0"],"sources":["G:\\APP\\frontend\\src\\app\\components\\pages\\login-page\\login-page.component.ts","G:\\APP\\frontend\\src\\app\\components\\pages\\login-page\\login-page.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { UserService } from 'src/app/services/user.service';\n\n@Component({\n  selector: 'app-login-page',\n  templateUrl: './login-page.component.html',\n  styleUrls: ['./login-page.component.css']\n})\nexport class LoginPageComponent implements OnInit {\n  loginForm!:FormGroup;\n  isSubmitted = false;\n  returnUrl = '';\n  constructor(private formBuilder: FormBuilder\n    , private userService:UserService,\n     private activatedRoute:ActivatedRoute,\n     private router:Router) { }\n\n  ngOnInit(): void {\n    this.loginForm = this.formBuilder.group({\n      email:['', [Validators.required,Validators.email]],\n      password:['', Validators.required]\n    });\n\n    this.returnUrl = this.activatedRoute.snapshot.queryParams.returnUrl;\n  }\n\n  get fc(){\n    return this.loginForm.controls;\n  }\n\n  submit(){\n    this.isSubmitted = true;\n    if(this.loginForm.invalid) return;\n\n    this.userService.login({email:this.fc.email.value,\n       password: this.fc.password.value}).subscribe(() => {\n         this.router.navigateByUrl(this.returnUrl);\n       });\n  }\n\n}\n","<div class=\"background\">\n  <div class=\"container\">\n    <div class=\"details\">\n      <div class=\"form-login\">      \n        <app-title title=\"Login\"></app-title>\n      </div>\n\n    <form [formGroup]=\"loginForm\" (ngSubmit)=\"submit()\">\n      <div class=\"form-details\">\n        <text-input\n        [control]=\"fc.email\"\n        [showErrorsWhen]=\"isSubmitted\"\n        type=\"email\"\n        label=\"Email\">\n      </text-input>\n    \n      <text-input\n        [control]=\"fc.password\"\n       [showErrorsWhen]=\"isSubmitted\"\n       type=\"password\"\n        label=\"Password\">\n      </text-input>\n      </div>\n      \n      <div class=\"form-footer\">\n        <default-button text=\"Login\"></default-button>\n        <div class=\"register\">\n          New user? &nbsp;\n          <a routerLink=\"/register\" [queryParams]=\"{returnUrl : returnUrl}\">\n            Register here\n          </a>\n        </div>\n      </div>\n\n    </form>\n    </div>\n  </div>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}